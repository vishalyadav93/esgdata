<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Navigation</title>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

html, body {
  height: 100%; /* Ensures the document takes full height */
}

    body {
      font-family: 'Arial', sans-serif;
      display: flex;
      min-height: 100vh;
      overflow: hidden;
      background-color: #e2efda;
    }

    nav {
      width: 200px;
      background-color: #2a5934;
      color: white;
      position: fixed;
      height: 100%;
      overflow: hidden;
      transition: width 0.5s ease, opacity 0.5s ease;
      box-shadow: 3px 0 5px rgba(0, 0, 0, 0.1);
    }

    nav.collapsed {
      width: 0;
      opacity: 0.5;
    }

    nav h2 {
      text-align: center;
      margin: 20px 0;
      font-size: 1.5rem;
      letter-spacing: 1px;
    }

    nav a {
      display: block;
      color: white;
      padding: 10px 20px;
      text-decoration: none;
      font-size: 1.1rem;
      transition: background-color 0.3s ease, transform 0.3s ease;
    }

    nav a:hover {
      background-color: #194d2b;
      transform: translateX(10px);
    }

    .toggle-btn {
      position: fixed;
      top: 20px;
      left: 20px;
      background-color: #194d2b;
      color: white;
      border: none;
      padding: 10px 15px;
      cursor: pointer;
      z-index: 1000;
      font-size: 1rem;
      border-radius: 5px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .content {
      margin-left: 200px;
      padding: 20px;
      flex: 1;
      transition: margin-left 0.5s ease, background-color 0.5s ease;
    }

    .content.collapsed {
      margin-left: 0;
    }
	
	 .innerFameContent{
	 height: 97%; 
    }

    header {
      background-color: #2a5934;
      color: white;
      padding: 20px;
      text-align: center;
      border-radius: 5px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    footer {
      background-color: #2a5934;
      color: white;
      text-align: center;
      padding: 10px;
      margin-top: auto;
      border-radius: 5px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .section {
      display: none;
      animation: fadeIn 0.5s ease;
    }

    .section.active {
      display: block;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    section {
      flex: 1; /* Equal width for each section */
      display: flex;
	  flex-direction:column;
      align-items: center; /* Center content vertically */
      justify-content: center; /* Center content horizontally */
      color: black;
      font-size: 1.5rem;
      text-align: center;
    }
	
	  .section1 {
      background-color: #2ecc71; /* Blue */
	  	margin-top:20px;

    }

    .section2 {
      background-color: #3498db; /* Green */
	  	  	margin-top:20px;

    }

    .section3 {
      background-color: #e74c3c; /* Red */
	  	  	margin-top:20px;

    }
	
	.section1A{
	background-color: #2ecc71;
	margin-top:2px;
	transition: background-color 1s linear;
	}
	.section2A{
	background-color: #3498db; 
	margin-top:2px;
	transition: background-color 1s linear;
	}.section3A{
	background-color: #e74c3c; 
	margin-top:2px;
	transition: background-color 1s linear;	}
	@media (max-width: 768px) {
    #imageGrid {
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
    }
}

@media (max-width: 480px) {
    #imageGrid {
        grid-template-columns: 1fr;
    }
}

  </style>
</head>
<body>
  {% load custom_filters %}

  <button class="toggle-btn" onclick="toggleMenu()">☰</button>
  <nav id="sidebar">
    <h2> &nbsp;&nbsp;</h2>
    <a href="#" onclick="showSection('section1')">What is ESG</a>
    <a href="#" onclick="showSection('section2')">ESG Data</a>
    <a href="#" onclick="showSection('section3')">Compliance and Standards</a>
    <a href="#" onclick="showSection('section4')">Tools and Calculators</a>
	<a href="#" onclick="showSection('section5')">Data Templates</a>
	<a href="#" onclick="showSection('section6')">Investment Insights</a>
	<a href="#" onclick="showSection('section7')">AI Models</a>
	<a href="#" onclick="showSection('section8')">About Us</a>
  </nav>
  <div class="content" id="mainContent">
  <div class="innerFameContent" id="innerFrame">
    <header>
      <h1>Welcome to the ESG data</h1>
    </header>
    <section id="section1" class="section active">
      <h2>What is ESG</h2>
	  <span>
	ESG stands for Environmental, Social, and Governance, which are three key factors used to evaluate the sustainability and ethical impact of an investment or a business. ESG has become a critical framework for investors, companies, and stakeholders who want to consider more than just financial returns when making decisions
	</span>
	<div id="ESG" style="display: flex; flex-direction: row; width: 100%; height: 100%;">
	<section class="section1">
    Environmental
	</section>
	<section class="section2">
    Social
  </section>
  
  <section class="section3">
    Governance
  </section>
  
  
	</div>
		<div id="ESG" style="display: flex; flex-direction: row; width: 100%; height: 100%;">
		
	<section class="section1A">
    {% for row in environment_data %}
        <li>{{ row.descr }}</li>
    {% endfor %}
</section>
	<section class="section2A">
    {% for row in social_data %}
        <li>{{ row.descr }}</li>
    {% endfor %}
  </section>
  
  <section class="section3A">
    {% for row in governance_data %}
        <li>{{ row.descr }}</li>
    {% endfor %}
  </section>
  
  
	</div>
    </section>
	
	<section id="section2" class="section">
      <h2>ESG Data</h2>
      <p>This is the content for section 2. The design is clean and elegant.</p>
    </section>

<section id="section3" class="section">
  <h2>Compliance and Standards</h2>
  <p>Select criteria to filter the standards:</p>

  <!-- Dropdowns for filtering -->
  <select id="iso-standard-select"><option value="">ISO Standard</option></select>
  <select id="release-date-select"><option value="">Release Date</option></select>
  <select id="sector-select"><option value="">Sector</option></select>
  <select id="esg-component-select"><option value="">ESG Component</option></select>

  <!-- Table to display results -->
  <table id="standards-table" border="1">
    <thead>
      <tr>
        <th>ISO Standard</th>
        <th>Release Date</th>
        <th>Sector</th>
        <th>ESG Component</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</section>

    <section id="section4" class="section">
      <h2>Tools and Calculators</h2>
      <p>This is the content for section 3. Feel free to explore!</p>
    </section>
    <section id="section5" class="section">
      <h2>Data Templates</h2>
	  
<!-- Grid container for images -->
<!-- Grid container for images -->
<div id="imageGrid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin-top: 20px;">
    {% for template in templates %}
        <div class="image-item" style="text-align: left; display: flex; flex-direction: column; align-items: flex-start;">
		<div style="text-align: center; display: flex; flex-direction: column; align-items: center;">

            <img 
                src="{{ template.image_path }}" 
                alt="Template Image" 
                style="width:100%; max-width:600px; height:auto; object-fit:contain; border: 1px solid #ccc; cursor: zoom-in;" 
                onclick="openModal('{{ template.image_path }}')">

            <a href="{{ template.excel_path }}" download>
                <button style="margin-top: 10px; padding: 5px 10px; background-color: #2a5934; color: white; border: none; border-radius: 5px; cursor: pointer;">
				<span>{{ template.excel_path|basename }}</span>
                    Download
                </button>
            </a>
			</div>
        </div>
    {% endfor %}
</div>

<!-- Pagination Controls -->
<div style="text-align: center; margin-top: 20px;">
    <button id="prevBtn" onclick="changePage(-1)" style="padding: 5px 10px; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">
        Previous
    </button>
    <button id="nextBtn" onclick="changePage(1)" style="padding: 5px 10px; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">
        Next
    </button>
</div>


<!-- Modal for Zoomed Image -->
<div id="imageModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); justify-content: center; align-items: center; z-index: 1000;">
    <img id="modalImage" src="" alt="Zoomed Image" style="max-width: 90%; max-height: 90%; object-fit: contain;">
    <span onclick="closeModal()" style="position: absolute; top: 20px; right: 20px; color: white; font-size: 24px; cursor: pointer;">&times;</span>
</div>

    </section>
	    <section id="section6" class="section">
      <h2>Investment Insights</h2>
      <p>This is the content for section 4. Everything is responsive and modern!</p>
    </section>
		    <section id="section7" class="section">
      <h2>AI Models</h2>
      <p>This is the content for section 4. Everything is responsive and modern!</p>
    </section>
	    <section id="section8" class="section">
      <h2>About Us</h2>
      <p>Reach us at <a href="mailto:esgdata.in@gmail.com">esgdata.in@gmail.com</a></p>
    </section>
	
	</div>
    <footer>
      <p>Copyright | esgdata.in © 2024</p>
    </footer>
  </div>

<script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>

  <script>
  
    function toggleMenu() {
      const sidebar = document.getElementById('sidebar');
      const content = document.getElementById('mainContent');
      sidebar.classList.toggle('collapsed');
      content.classList.toggle('collapsed');
    }

    function showSection(sectionId) {
      // Hide all sections
      document.querySelectorAll('.section').forEach(section => {
        section.classList.remove('active');
      });
      // Show the selected section
      document.getElementById(sectionId).classList.add('active');
    }
	
  function openModal(imageSrc) {
        const modal = document.getElementById('imageModal');
        const modalImage = document.getElementById('modalImage');
        modalImage.src = imageSrc;  // Set the image source to the clicked image
        modal.style.display = 'flex';  // Display the modal
    }

    // Close the modal
    function closeModal() {
        const modal = document.getElementById('imageModal');
        modal.style.display = 'none';  // Hide the modal when clicking the close button
    }

  const itemsPerPage = 2; // Number of items per page
    let currentPage = 1;
    const items = document.querySelectorAll('.image-item');
    const totalPages = Math.ceil(items.length / itemsPerPage);

    // Show or hide images based on the current page
    function showPage(page) {
        const startIndex = (page - 1) * itemsPerPage;
        const endIndex = startIndex + itemsPerPage;

        // Hide all images
        items.forEach((item, index) => {
            item.style.display = 'none';
        });

        // Show images for the current page
        for (let i = startIndex; i < endIndex && i < items.length; i++) {
            items[i].style.display = 'block';
        }

        // Update the pagination buttons visibility
        document.getElementById('prevBtn').style.display = page > 1 ? 'inline-block' : 'none';
        document.getElementById('nextBtn').style.display = page < totalPages ? 'inline-block' : 'none';
    }

    // Change to the next or previous page
    function changePage(direction) {
        currentPage += direction;
        if (currentPage < 1) currentPage = 1;
        if (currentPage > totalPages) currentPage = totalPages;
        showPage(currentPage);
    }

    // Initialize pagination
    showPage(currentPage);
	document.addEventListener('DOMContentLoaded', function () {
  const isoStandardSelect = document.getElementById('iso-standard-select');
  const releaseDateSelect = document.getElementById('release-date-select');
  const sectorSelect = document.getElementById('sector-select');
  const esgComponentSelect = document.getElementById('esg-component-select');
  const tableBody = document.querySelector('#standards-table tbody');

  // Fetch dropdown values
  fetch('/api/dropdowns/')
    .then(response => response.json())
    .then(data => {
      populateDropdown(isoStandardSelect, data.iso_standards);
      populateDropdown(releaseDateSelect, data.release_dates);
      populateDropdown(sectorSelect, data.sectors);
      populateDropdown(esgComponentSelect, data.esg_components);
    })
    .catch(error => console.error('Error fetching dropdown values:', error));

  // Populate dropdown options
  function populateDropdown(select, values) {
    values.forEach(item => {
      const option = document.createElement('option');
      option.value = item.value;
      option.textContent = item.label;
      select.appendChild(option);
    });
  }

  // Fetch and populate table data
  function updateTable() {
    const query = new URLSearchParams({
      iso_standard: isoStandardSelect.value,
      release_date: releaseDateSelect.value,
      sector: sectorSelect.value,
      esg_component: esgComponentSelect.value,
    });

    fetch(`/api/filter_standards/?${query.toString()}`)
      .then(response => response.json())
      .then(data => {
        // Clear table
        tableBody.innerHTML = '';
        // Populate table rows
        data.forEach(item => {
          const row = document.createElement('tr');
          row.innerHTML = `
            <td>${item.iso_standard}</td>
            <td>${item.release_date}</td>
            <td>${item.sector}</td>
            <td>${item.esg_component}</td>
          `;
          tableBody.appendChild(row);
        });
      })
      .catch(error => console.error('Error fetching table data:', error));
  }

  // Add event listeners to dropdowns
  [isoStandardSelect, releaseDateSelect, sectorSelect, esgComponentSelect].forEach(select => {
    select.addEventListener('change', updateTable);
  });
});

  </script>
</body>
</html>
